import{B as n,A as s,J as a}from"./common-3faa3bdf.js";const o='{"title":"在 centos 上构建 MongoDB","frontmatter":{},"headers":[{"level":2,"title":"在 centos 上构建 MongoDB","slug":"在-centos-上构建-mongodb"},{"level":3,"title":"配置命令","slug":"配置命令"},{"level":3,"title":"配置文件","slug":"配置文件"},{"level":3,"title":"运行命令","slug":"运行命令"}],"lastUpdated":1600133693647.6287}';var e={};const t=a('<h2 id="在-centos-上构建-mongodb"><a class="header-anchor" href="#在-centos-上构建-mongodb" aria-hidden="true">#</a> 在 centos 上构建 MongoDB</h2><h3 id="配置命令"><a class="header-anchor" href="#配置命令" aria-hidden="true">#</a> 配置命令</h3><div class="language-bash"><pre><code><span class="token comment"># 下载获取工具</span>\nyum <span class="token function">install</span> -y openssl <span class="token function">wget</span>\n\n<span class="token comment"># 获取Mongodb的binary压缩包</span>\n<span class="token function">wget</span> https://fastdl.mongodb.org/linux/mongodb-linux-x86_64-4.0.5.tgz\n\n<span class="token comment"># 解压下载包</span>\n<span class="token function">tar</span> -zxvf mongodb-linux-x86_64-4.0.5.tgz\n\n<span class="token comment"># 移动到指定目录</span>\n<span class="token function">mv</span> mongodb-linux-x86_64-4.0.5 /usr/local/mongodb\n\n<span class="token comment"># 创建db和log文件夹</span>\n<span class="token builtin class-name">cd</span> /usr/local/mongodb <span class="token operator">&amp;&amp;</span> <span class="token function">mkdir</span> -p db <span class="token operator">&amp;&amp;</span> <span class="token function">mkdir</span> -p log\n\n<span class="token comment"># 创建log文件</span>\n<span class="token function">touch</span> ./log/mongodb.log <span class="token punctuation">\\</span>\n\n<span class="token comment"># 给两个文件夹加上权限</span>\n<span class="token function">chmod</span> +775 ./db <span class="token operator">&amp;&amp;</span> <span class="token function">chmod</span> +775 ./log <span class="token punctuation">\\</span>\n\n<span class="token comment"># 设置全局入口</span>\n<span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span><span class="token environment constant">$PATH</span>:/usr/local/mongodb/bin\n</code></pre></div><h3 id="配置文件"><a class="header-anchor" href="#配置文件" aria-hidden="true">#</a> 配置文件</h3><div class="language-bash"><pre><code><span class="token comment"># /usr/local/mongodb/mongodb.conf</span>\n\n<span class="token assign-left variable">port</span><span class="token operator">=</span><span class="token number">27017</span> <span class="token comment">#端口  </span>\n\n<span class="token assign-left variable">dbpath</span><span class="token operator">=</span>/usr/local/mongodb/db <span class="token comment">#数据库存文件存放目录  </span>\n\n<span class="token assign-left variable">logpath</span><span class="token operator">=</span> /usr/local/mongodb/log/mongodb.log <span class="token comment">#日志文件存放路径  </span>\n\n<span class="token assign-left variable">logappend</span><span class="token operator">=</span>true <span class="token comment">#追加方式写日志  </span>\n\n<span class="token assign-left variable">maxConns</span><span class="token operator">=</span><span class="token number">100</span> <span class="token comment">#最大同时连接数  </span>\n\n<span class="token assign-left variable">auth</span><span class="token operator">=</span>true <span class="token comment">#启用验证  </span>\n\n<span class="token assign-left variable">fork</span><span class="token operator">=</span>true <span class="token comment">#可在后台运行</span>\n\n<span class="token assign-left variable">journal</span><span class="token operator">=</span>true <span class="token comment">#每次写入会记录一条操作日志（通过journal可以重新构造出写入的数据）</span>\n\n<span class="token assign-left variable">storageEngine</span><span class="token operator">=</span>wiredTiger  <span class="token comment">#存储引擎有mmapv1、wiretiger、mongorocks</span>\n\nbind_ip <span class="token operator">=</span> <span class="token number">0.0</span>.0.0  <span class="token comment">#允许外部访问，如设置为127.0.0.1则只能在本机访问</span>\n</code></pre></div><h3 id="运行命令"><a class="header-anchor" href="#运行命令" aria-hidden="true">#</a> 运行命令</h3><div class="language-bash"><pre><code>mongod --config /usr/local/mongodb/mongodb.conf\n</code></pre></div>',7);e.render=function(a,o,e,p,l,c){return s(),n("div",null,[t])};export default e;export{o as __pageData};
